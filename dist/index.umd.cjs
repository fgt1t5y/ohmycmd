(function(s,n){typeof exports=="object"&&typeof module<"u"?n(exports):typeof define=="function"&&define.amd?define(["exports"],n):(s=typeof globalThis<"u"?globalThis:s||self,n(s.Ohmycmd={}))})(this,function(s){"use strict";var p=Object.defineProperty;var b=(s,n,r)=>n in s?p(s,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[n]=r;var i=(s,n,r)=>b(s,typeof n!="symbol"?n+"":n,r);class n{constructor(e,t){i(this,"option");i(this,"nextSchema");this.option=e||null,this.nextSchema=t||null}toArray(){const e=[this];let t=this;if(t.nextSchema===null)return e;for(;t&&!(t.nextSchema&&(e.push(t.nextSchema),t=t.nextSchema,!t.nextSchema)););return e}}class r extends n{constructor(e,t){super({label:e},t)}check(e){return e===this.option.label}}class f extends n{constructor(e,t){super(e,t)}check(e){return Number.isInteger(parseInt(e))}}class d extends n{constructor(e,t){super(e,t)}check(){return!0}}class g extends n{constructor(e,t){super(e,t)}check(e){return["true","false"].findIndex(t=>t===e)>-1}}class S{constructor(e){i(this,"schemas");i(this,"binds");i(this,"commandPrefix");this.schemas={},this.binds={},this.commandPrefix=e==null?void 0:e.commandPrefix}add(e,t,c){this.schemas[e]=t||[],c&&(this.binds[e]=c)}remove(e){this.schemas[e]&&delete this.schemas[e]}clear(){this.schemas={}}execute(e){let t=e.trim();if(this.commandPrefix){if(!t.startsWith(this.commandPrefix))return!1;t=t.slice(this.commandPrefix.length)}const c=t.split(" "),a=this.schemas[c[0]];if(!a)return!1;if(a.length===0)return!(c.length>1);if(a.length>0&&c.length<2)return!1;c.shift();let o=0,h;for(;o<a.length;o++){const l=a[o].toArray(),u=[];for(h=0;h<c.length&&l[h];h++)u.push(l[h].check(c[h]));if(u.length===c.length&&u.length===l.length&&u.every(x=>x))return!0}return!1}}s.BoolSchema=g,s.Commander=S,s.IntegerSchema=f,s.StringSchema=d,s.Subcommand=r,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})});
